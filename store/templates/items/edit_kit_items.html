{% extends "base.html" %} 

{% load static %}
                                                                                                                                                                                                                              
{% block title %} Kit Items {% endblock %} 

{% block content %}
<div class="container">

  <input type="hidden" value="{{kit.pk}}" name="pk">

  {% if kit.storereagent_set.all %}
  <div class="row justify-content-center">
    <div class="col-sm-3 form-width-18">
      <ul class="list-group" id="reagents">
        <li class="list-group-item active">Reagents List</li>
        {% for reagent in kit.storereagent_set.all %}
          {% include 'partials/kit_reagents.html' %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {% if kit.storetube_set.all %}
    <div class="col-sm-3 form-width-18">
      <ul class="list-group" id="tubes">
        <li class="list-group-item active">Tubes List</li>
        {% for tube in kit.storetube_set.all %}
          {% include 'partials/kit_tubes.html' %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}

    {% if kit.storeplate_set.all %}
    <div class="col-sm-3 form-width-18">
      <ul class="list-group" id="plates">
        <li class="list-group-item active">Plates List</li>
        {% for plate in kit.storeplate_set.all %}
          {% include 'partials/kit_plates.html' %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  </div>

  <div class="row justify-content-center">
    <div class="text-center mt-2">
      <button 
        class="btn btn-primary" 
        type="submit" 
        hx-get="{% url 'create_reagent_store' %}"
        hx-target="#reagent-forms"
        hx-include="[name='pk']"
        hx-swap="beforeend"
        >+ Reagent
      </button>
      <button 
        class="btn btn-primary" 
        type="submit"
        hx-get="{% url 'create_tube_store'%}"
        hx-target="#tube-forms"
        hx-include="[name='pk']"
        hx-swap="beforeend"
        >+ Tube</button>
      <button 
        class="btn btn-primary" 
        type="submit"
        hx-get="{% url 'create_plate_store'%}"
        hx-target="#plate-forms"
        hx-include="[name='pk']"
        hx-swap="beforeend"
        >+ Plate</button>
    </div>
  </div>

  <input type="hidden" value="{{item.id}}" name="id">

  <div class="d-flex flex-wrap justify-content-center" id="reagent-forms">
  </div>

  <div class="d-flex flex-wrap justify-content-center" id="tube-forms">
  </div>

  <div class="d-flex flex-wrap justify-content-center" id="plate-forms">
  </div>

  <div class="row justify-content-center">
    <div class="text-center mt-2">
      <a class="btn btn-secondary" href="{% url 'kits' %}">Cancel</a>
      <button class="btn btn-primary" type="submit" id="submit-all">Create Items</button>
    </div>
  </div>
</div>
{% endblock %}